$(document).ready(function(){var e={color:null,firstIndex:null,secondIndex:null,flag:0,level:1,gameOver:!1,win:!1,hidden:0},l=$(".box-wrapper").length;function a(e){new Noty({text:e,layout:"topRight",theme:"mint",closeWith:["click","button"],animation:{open:"noty_effects_open",close:"noty_effects_close"}}).show()}function n(){e.flag=0,e.firstIndex=null,e.secondIndex=null,e.color=null}$("input[type=checkbox]").on("change",function(){$(".box-wrapper").toggleClass("hint")}),$(".start").on("click",function(){n(),e.level=1,e.gameOver=!1,$(".game-level").text("Level "+e.level),$(".box-wrapper").removeClass("active rotated hidden"),0==e.gameOver&&$(".modal-wrapper").removeClass("active")}),$(".box-wrapper").on("click",function(){var o=$(this);o.addClass("rotated");var d=o.data("index"),t=o.data("color");0==e.flag?(e.color=t,e.firstIndex=d,e.flag=1,o.addClass("active")):1==e.flag?d==e.firstIndex?a("Не клікайте по відкритому квадраті!"):d!=e.firstIndex&&t!=e.color?(e.flag=2,e.secondIndex=d,a("Вам не пощастило! Але у Вас є ще ОДИН шанс!"),o.addClass("active")):d!=e.firstIndex&&t==e.color&&(a("Ви перейшли до наступного рівня!"),e.level=e.level+1,$(".game-level").text("Level "+e.level),$(".box-wrapper."+e.color).addClass("hidden"),n(),e.hidden=e.hidden+2):2==e.flag&&(d==e.firstIndex||d==e.secondIndex?a("Не клікайте по відкритому квадраті!"):d!=e.firstIndex&&d!=e.secondIndex&&t!=e.color?e.gameOver=!0:d!=e.firstIndex&&d!=e.secondIndex&&t==e.color&&(a("Ви перейшли до наступного рівня!"),e.level=e.level+1,$(".game-level").text("Level "+e.level),$(".box-wrapper."+e.color).addClass("hidden"),$(".box-wrapper").removeClass("active rotated"),n(),e.hidden=e.hidden+2)),e.hidden==l&&($(".modal-wrapper").addClass("active"),$(".modal-wrapper").find("p").text("WINNER"),$(".game-level").text("")),1==e.gameOver&&$(".modal-wrapper").addClass("active")})});