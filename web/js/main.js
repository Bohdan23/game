$(document).ready(function(){var e={color:null,firstIndex:null,secondIndex:null,flag:0,level:1,gameOver:!1,win:!1,hidden:0},l=$(".box-wrapper").length;function a(e){new Noty({text:e,layout:"topRight",theme:"mint",closeWith:["click","button"],animation:{open:"noty_effects_open",close:"noty_effects_close"},timeout:4e3}).show()}function d(){e.flag=0,e.firstIndex=null,e.secondIndex=null,e.color=null}$("input[type=checkbox]").on("change",function(){$(".box-wrapper").toggleClass("hint")}),$(".start").on("click",function(){d(),e.level=1,e.gameOver=!1,e.hidden=0,$(".game-level").text("Level "+e.level),$(".box-wrapper").removeClass("active rotated hidden"),0==e.gameOver&&$(".modal-wrapper").removeClass("active")}),$(".box-wrapper").on("click",function(){var n=$(this);n.addClass("rotated");var o=n.data("index"),t=n.data("color");0==e.flag?(e.color=t,e.firstIndex=o,e.flag=1,n.addClass("active")):1==e.flag?o==e.firstIndex?a("Не клікайте по відкритому квадраті!"):o!=e.firstIndex&&t!=e.color?(e.flag=2,e.secondIndex=o,a("Вам не пощастило! Але у Вас є ще ОДИН шанс!"),n.addClass("active")):o!=e.firstIndex&&t==e.color&&(a("Ви перейшли до наступного рівня!"),e.level=e.level+1,$(".game-level").text("Level "+e.level),$(".box-wrapper."+e.color).addClass("hidden"),d(),e.hidden=e.hidden+2):2==e.flag&&(o==e.firstIndex||o==e.secondIndex?a("Не клікайте по відкритому квадраті!"):o!=e.firstIndex&&o!=e.secondIndex&&t!=e.color?(e.gameOver=!0,e.hidden=0):o!=e.firstIndex&&o!=e.secondIndex&&t==e.color&&(a("Ви перейшли до наступного рівня!"),e.level=e.level+1,$(".game-level").text("Level "+e.level),$(".box-wrapper."+e.color).addClass("hidden"),$(".box-wrapper").removeClass("active rotated"),d(),e.hidden=e.hidden+2)),e.hidden==l&&($(".modal-wrapper").addClass("active"),$(".modal-wrapper").find("p").text("WINNER"),$(".game-level").text("")),1==e.gameOver&&$(".modal-wrapper").addClass("active")})});